function getParameterByName(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),a=t.exec(location.search);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))}function changeState(e){parent.playerChange("changeState",e)}function changeTime(e){parent.playerChange("changeTime",e)}function next(){parent.playerChange("next")}function prev(){parent.playerChange("prev")}function getPercentageCurrentTime(e,t){var a=e/t*100;return a}function getFormatedTime(e,t){var a=Math.round(e),n=Math.floor(a/60),r=Math.floor(n/60);n>0&&(a-=60*n),r>0&&(n-=60*r),1===r.toString().length&&(r="0"+r),1===n.toString().length&&(n="0"+n),1===a.toString().length&&(a="0"+a);var i=Math.round(t),o=Math.floor(i/60),l=Math.floor(o/60);return o>0&&(i-=60*o),l>0&&(o-=60*l),1===l.toString().length&&(l="0"+l),1===o.toString().length&&(o="0"+o),1===i.toString().length&&(i="0"+i),"00"===l?(l="",r=""):(l+=":",r+=":"),r+n+":"+a+" / "+l+o+":"+i}function play(){playPlayer()}function pause(){pausePlayer()}function mute(){mutePlayer()}function unMute(){unMutePlayer()}function seekTo(e,t){seekTo(e,t)}var playlist=getParameterByName("playlist"),repeat=getParameterByName("repeat"),kind=getParameterByName("kind"),BPpl=getParameterByName("bp"),id=getParameterByName("id"),update=!1;window.onload=function(){function e(e){if(void 0==e)var t=o.getCurrentTime();else var t=e;var a=o.getDuration(),n={};n.timeField=getFormatedTime(t,a),n.timePercentage=getPercentageCurrentTime(t,a),changeTime(n)}if(1==repeat){var t="/img/repeat.png";$("#player").replaceWith('<img onclick="repeat()" src="'+t+'">')}else if("yt"==kind){var a=document.createElement("script");a.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];if(n.parentNode.insertBefore(a,n),1==playlist)var r=id,i="";else var r="",i=id;var o;onYouTubeIframeAPIReady=function(){o=new YT.Player("player",{videoId:i,width:"100%",height:"100%",playerVars:{listType:"playlist",list:r,playsinline:1,controls:0,showinfo:0,modestbranding:0,iv_load_policy:3,fs:0,rel:0,disablekb:0},events:{onStateChange:onPlayerStateChange,onReady:onPlayerReady}})},onPlayerReady=function(e){e.target.playVideo(),o.setVolume(100)},onPlayerStateChange=function(t){0===t.data?(update&&window.clearInterval(update),next()):1===t.data?(update=setInterval(e,310),changeState(1)):-1===t.data||(changeState(0),update&&window.clearInterval(update))},pausePlayer=function(){o.pauseVideo()},playPlayer=function(){o.playVideo()},mutePlayer=function(){o.mute()},unMutePlayer=function(){o.unMute()},seekTo=function(t,a){update&&window.clearInterval(update);var n=t*o.getDuration();o.seekTo(n,a),e(n)}}else window.onload=function(){var e=document.getElementById("player");e.innerHTML='<iframe id="sc-widget" width="100%" height="100%" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/'+id+'&amp;auto_play=true&amp;hide_related=true&amp;show_comments=false&amp;show_user=false&amp;show_reposts=false&sharing=false&buying=false&download=true&amp;visual=true&default_width=250&default_height=132"></iframe>',function(){var e=document.getElementById("sc-widget"),t=SC.Widget(e);t.bind(SC.Widget.Events.ERROR,function(){next()}),t.bind(SC.Widget.Events.READY,function(){t.bind(SC.Widget.Events.FINISH,function(){next()})})}()}};