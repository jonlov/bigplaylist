define(function(){angular.module("coreModule").registerController("searchController",["$scope","$rootScope","$translate","$location","getCSRF","searchService","playlistsService","$filter",function(e,t,s,l,r,n,u,o){function i(t){s("views").then(function(s){e.views=s,n.youtube(t,"",e.playlists,function(t){e.youtubeResultsItems=t.results.items,e.YTresults=t,c()}),n.soundcloud(t,"",e.playlists,function(t){e.soundcloudResultsItems=t.results,e.SCresults=t,c()})})}function c(){function s(e,t){function s(e){var t=Math.floor(Math.random()*e.length),s=e[t];return e.splice(t,1),s}for(var l=[];e.length||t.length;)e.length&&(l[l.length]=s(e)),t.length&&(l[l.length]=s(t));return l}if(e.YTresults.items&&e.SCresults.items){var l=s(e.SCresults.items,e.YTresults.items);t.mergedItems=l,t.prevMergedItems=[]}}e.YTresults=!1,e.SCresults=!1,i()}])});