define(function(){angular.module("coreModule",[]);var e=angular.module("coreModule",["base64","ngRoute","satellizer","pascalprecht.translate","toastr","ngAnimate","ngMouseDrag"]);e.config(["$locationProvider","$routeProvider","$authProvider","$controllerProvider","$translateProvider","toastrConfig",function(r,o,t,n,l,a){var i="Nest.it";t.logoutRedirect="/login",e.registerController=n.register,l.useSanitizeValueStrategy("escaped"),l.useLoader("$translatePartialLoader",{urlTemplate:"/assets/json/lang/{part}/{lang}.json"}),l.registerAvailableLanguageKeys(["en","es"],{en_US:"en",en_UK:"en",de_ES:"es"}).determinePreferredLanguage(),angular.extend(a,{positionClass:"toast-top-left"}),r.html5Mode({enabled:!0,requireBase:!1}),o.when("/",{controller:"homeController",templateUrl:"app/modules/core/views/home.html",resolve:{load:["$q",function(e){var r=e.defer();return require(["homeController"],function(){r.resolve()}),r.promise}]},title:i}).when("/search",{controller:"searchController",templateUrl:"app/modules/core/views/search.html",resolve:{load:["$q",function(e){var r=e.defer();return require(["searchController"],function(){r.resolve()}),r.promise}]},title:i}).when("/login",{controller:"loginController",templateUrl:"app/modules/core/views/login.html",resolve:{load:["$q","$location","$auth",function(e,r,o){var t=e.defer();return o.isAuthenticated()?r.path("/"):require(["loginController"],function(){t.resolve()}),t.promise}]},title:i+" - Login"})}]),e.run(["$location","$rootScope","$window","$routeParams",function(e,r,o,t){r.$on("$routeChangeSuccess",function(n,l,a){if(l.hasOwnProperty("$$route")){r.title=l.$$route.title;var i=e.path()+"?";angular.forEach(t,function(e,r){i+=r+"="+e+"&"}),i=i.substr(0,i.length-1),o.ga("send","pageview",{page:i})}})}]),e.service("getCSRF",["$http",function(e){return function(r){e.get("/csrfToken").success(function(o){e.defaults.headers.common["x-csrf-token"]=o._csrf,r(o._csrf)})}}]),require(["app"],function(){angular.bootstrap(document,["coreModule"])})});